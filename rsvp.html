<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kathleen & Adam's Wedding</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
        type="text/css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Lato:ital@1&family=Playfair+Display:ital,wght@1,500&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="assets/css/style.css">
    <script>
        document.addEventListener("visibilitychange", function () {
            if (document.hidden) {
                // Page is hidden, pause the music
                pauseMusic();
            } else {
                // Page is visible, resume the music
                playMusic();
            }
        });

        function playMusic() {
            var audio = document.getElementById('backgroundMusic');
            if (audio.paused) {
                audio.play();
            }
        }

        function pauseMusic() {
            var audio = document.getElementById('backgroundMusic');
            if (!audio.paused) {
                audio.pause();
            }
        }

        // Set initial volume
        document.getElementById('backgroundMusic').volume = 0.5;
    </script>
    <script src="https://cdn.emailjs.com/dist/email.min.js"></script>
    <script>
        (function () {
            emailjs.init("dAeer_zSgV2AAmTIr");
        })();
    </script>
</head>

<body class="rsvp">
    <nav class="navbar navbar-expand-lg navbar-light fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="index.html"><img src="assets/images/home_logo.png" alt="Home Icon" width="250"
                    height="75"></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#navbarOffcanvas"
                aria-controls="navbarOffcanvas" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="offcanvas offcanvas-end" tabindex="-1" id="navbarOffcanvas"
                aria-labelledby="navbarOffcanvasLabel">
                <!-- Your offcanvas content goes here -->
                <div class="offcanvas-header">
                    <h5 class="offcanvas-title" id="navbarOffcanvasLabel">Kathleen & Adam</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                </div>
                <div class="offcanvas-body">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="venue.html">The Venue</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="information.html">Information</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="schedule.html">Schedule</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="wishing-well.html">Wishing Well</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="rsvp.html">RSVP</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>
    <div class="container d-flex flex-column align-items-center justify-content-center">
        <!-- Logo Section -->
        <div class="text-center rsvp-header">
            <img class="rsvp-logo" src="assets/images/rsvp-logo.png" alt="rsvp logo">
        </div>
        <div class="text-center rsvp-date">
            <p>14th June 2024</p>
        </div>
    </div>
    <div class="container mt-6 rsvp-container">
        <div class="row">
            <!-- First container -->
            <div class="col-md-3"></div>
            <div class="col-md-6 information accomodation-container form">
                <h2 class="text-center mb-4">Who is completing this RSVP?</h2>

                <!-- RSVP Form -->
                <form action="#" method="post" class="text-center form">
                    <div class="mb-3">
                        <label for="firstName" class="form-label">First Name</label>
                        <input type="text" class="form-control" id="firstName" name="firstName" required>
                    </div>

                    <div class="mb-3">
                        <label for="lastName" class="form-label">Last Name</label>
                        <input type="text" class="form-control" id="lastName" name="lastName" required>
                    </div>

                    <button type="button" class="rsvp-btn" id="rsvp-btn-thats-me" onclick="showMenuOptions()">That's
                        Me</button>
                </form>
            </div>
            <div class="col-md-3"></div>
        </div>
    </div>
    <!-- Menu Options Container -->
    <div class="container mt-6 rsvp-container">
        <div class="row">
            <div class="col-md-3"></div>
            <div class="col-md-6 menu-options information accomodation-container form" style="display: none;">
                <h2 class="text-center mb-4">Menu Options</h2>

                <!-- Menu Checklist -->
                <form action="#" method="get" class="text-center" onsubmit="return validateForm()">
                    <div class="text-center">
                        <img class="line-logo" src="assets/images/line.png" alt="line logo">
                    </div>
                    <!-- Starters -->
                    <div class="mb-3">
                        <h4><strong>Starters</strong></h4>
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="radio" name="starter" id="prawnSalad">
                            <label class="form-check-label" for="prawnSalad">Prawn Salad with Marie Rose Sauce</label>
                        </div>

                        <div class="form-check mb-3">
                            <input class="form-check-input" type="radio" name="starter" id="soup">
                            <label class="form-check-label" for="soup">Tomato & Basil soup</label>
                        </div>

                        <div class="form-check mb-3">
                            <input class="form-check-input" type="radio" name="starter" id="bruschetta">
                            <label class="form-check-label" for="bruschetta">Bruschetta with Prosciutto, Mozzarella,
                                Garlic, Red Onions, Tomatoes, Basil and Balsamic</label>
                        </div>
                    </div>

                    <div class="text-center">
                        <img class="line-logo" src="assets/images/line.png" alt="line logo">
                    </div>

                    <!-- Mains -->
                    <div class="mb-3">
                        <h4><strong>Mains</strong></h4>
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="radio" name="main" id="trioOfSausage">
                            <label class="form-check-label" for="trioOfSausage">Trio of Sausage; Farmhouse Pork, Pork
                                and Apple and Cumberland Sausage, Jenga Chips & Roast Gravy</label>
                        </div>

                        <div class="form-check mb-3">
                            <input class="form-check-input" type="radio" name="main" id="roastPork">
                            <label class="form-check-label" for="roastPork">Roast Loin of Pork with Sage and Onion
                                Stuffing, Yorkshire Pudding, Crackling, Dauphinoise Potatoes and Roast Gravy</label>
                        </div>

                        <div class="form-check mb-3">
                            <input class="form-check-input" type="radio" name="main" id="roastLamb">
                            <label class="form-check-label" for="roastLamb">Roast Leg of Lamb with Yorkshire Pudding,
                                Dauphinoise Potatoes and Roast Gravy</label>
                        </div>
                    </div>
                    <div class="text-center vegetables">
                        <p>(All dishes are garnished with fresh seasonal vegetables.)</p>
                        <p>(All tables will be served with a separate bowl of seasonal vegetables)</p>
                    </div>

                    <div class="text-center">
                        <img class="line-logo" src="assets/images/line.png" alt="line logo">
                    </div>

                    <!-- Desserts -->
                    <div class="mb-3">
                        <h4><strong>Desserts</strong></h4>
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="radio" name="dessert" id="stickyToffeePudding">
                            <label class="form-check-label" for="stickyToffeePudding">Sticky Toffee Pudding, Toffee
                                Sauce, and Vanilla Ice-cream</label>
                        </div>

                        <div class="form-check mb-3">
                            <input class="form-check-input" type="radio" name="dessert" id="lemonMeringueCheesecake">
                            <label class="form-check-label" for="lemonMeringueCheesecake">Heart Shaped Lemon Meringue
                                Cheesecake with Meringue and Chocolate Shards</label>
                        </div>

                        <div class="form-check mb-3">
                            <input class="form-check-input" type="radio" name="dessert" id="chocolateBrownie">
                            <label class="form-check-label" for="chocolateBrownie">Warm Chocolate Brownie with Vanilla
                                Ice-cream</label>
                        </div>
                    </div>
                    <div class="text-center">
                        <img class="line-logo" src="assets/images/line.png" alt="line logo">
                    </div>
                    <!-- Additional text area for comments/requests -->
                    <div class="mb-3">
                        <label for="additionalComments" class="form-label">Additional Comments / Dietary
                            Requests</label>
                        <textarea class="form-control" id="additionalComments" name="additionalComments"
                            rows="4"></textarea>
                    </div>

                    <button type="submit" class="rsvp-btn" id="submitBtn"
                        onclick="return validateForm()">Submit</button>
                </form>
            </div>
            <div class="col-md-3"></div>
        </div>
    </div>
    <div class="container col-md-4 d-flex flex-column align-items-center justify-content-center contact rsvp-container">
        <div class="text-center">
            <p>RSVP by 19th February 2024 <a href="mailto:hudsonadam2011@gmail.com">contact us</a> if unable to attend
                so we can confirm numbers with the venue. Unfortunatley if you do not respond by 19th February 2024, we
                will be unable to cater for you, therfore unfortunatley you wont be able to join us for our marriage.
            </p>
        </div>
    </div>
    <!-- HTML for the overlay and alert container -->
    <div class="overlay" id="overlay">
        <div class="alert" id="alert">
            <p>Please select one option from each category (starter, main, dessert).</p>
            <button type="button" class="rsvp-btn" onclick="closeMessage()">OK</button>
        </div>
        <!-- Additional container for first and last name alert -->
        <div class="alert" id="nameAlert">
            <p>Please enter both first name and last name before proceeding.</p>
            <button type="button" class="rsvp-btn" onclick="closeNameAlert()">OK</button>
        </div>
    </div>
    <div id="speaker" onclick="toggleMusic()">
        <img class="speaker-logo" src="assets/images/speaker.png" alt="speaker logo"></div>

    <audio id="backgroundMusic" autoplay loop>
        <source src="assets/audio/six.mp3" type="audio/mpeg">
        Your browser does not support the audio tag.
    </audio>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous">
    </script>
</body>
<script>
    function showMenuOptions() {
        // Get the values from the input fields
        const firstName = document.getElementById('firstName').value;
        const lastName = document.getElementById('lastName').value;

        // Check if both first name and last name are not empty
        if (firstName.trim() !== '' && lastName.trim() !== '') {
            // Show the menu options container
            document.querySelector('.menu-options').style.display = 'block';

            // Disable the input fields for first name and last name
            document.getElementById('firstName').disabled = true;
            document.getElementById('lastName').disabled = true;

            document.getElementById('rsvp-btn-thats-me').disabled = true;
        } else {
            // If either first name or last name is empty, show the name alert
            const overlay = document.querySelector('.overlay');
            const nameAlertContainer = document.querySelector('.overlay #nameAlert');

            if (overlay && nameAlertContainer) {
                // Display the overlay and name alert container
                overlay.style.display = 'flex';
                nameAlertContainer.style.display = 'block';
            }
        }
    }

    function validateForm() {
        // Check if at least one radio button is checked for each category
        const startersChecked = document.querySelectorAll('input[name="starter"]:checked').length;
        const mainsChecked = document.querySelectorAll('input[name="main"]:checked').length;
        const dessertsChecked = document.querySelectorAll('input[name="dessert"]:checked').length;

        if (startersChecked === 0 || mainsChecked === 0 || dessertsChecked === 0) {
            // Display the overlay and alert
            const overlay = document.querySelector('.overlay');
            overlay.style.display = 'flex';

            const alert = document.querySelector('.overlay .alert');
            alert.style.display = 'block';

            // Disable the submit button
            document.getElementById('submitBtn').disabled = true;

            // Prevent form submission
            return false;
        } else {
            // Disable the input fields for starters, main and desserts
            document.getElementById('prawnSalad').disabled = true;
            document.getElementById('soup').disabled = true;
            document.getElementById('bruschetta').disabled = true;
            document.getElementById('trioOfSausage').disabled = true;
            document.getElementById('roastPork').disabled = true;
            document.getElementById('roastLamb').disabled = true;
            document.getElementById('stickyToffeePudding').disabled = true;
            document.getElementById('lemonMeringueCheesecake').disabled = true;
            document.getElementById('chocolateBrownie').disabled = true;
            // Disable the submit button
            document.getElementById('submitBtn').disabled = true;
            // Disable the textarea
            document.getElementById('additionalComments').disabled = true;
            return sendMail(this);
        }


    }

    // Function to close the message container and enable interactions
    function closeMessage() {
        const overlay = document.querySelector('.overlay');
        const alert = document.querySelector('.overlay .alert');
        const submitBtn = document.getElementById('submitBtn');

        if (overlay && alert) {
            // Hide the overlay and alert
            overlay.style.display = 'none';
            alert.style.display = 'none';

            // Enable the submit button
            submitBtn.disabled = false;
        }
    }

    // Function to close the name alert container and enable interactions
    function closeNameAlert() {
        const overlay = document.querySelector('.overlay');
        const nameAlertContainer = document.querySelector('.overlay #nameAlert');
        const submitBtn = document.getElementById('submitBtn');

        if (overlay && nameAlertContainer) {
            // Hide the overlay and name alert container
            overlay.style.display = 'none';
            nameAlertContainer.style.display = 'none';

            // Enable the submit button
            submitBtn.disabled = false;
        }
    }

    function toggleMusic() {
        var audio = document.getElementById('backgroundMusic');

        if (audio.paused) {
            audio.play();
        } else {
            audio.pause();
        }
    }
    document.getElementById('backgroundMusic').volume = 0.3;

    // Add event listeners for burger icon and close button
    document.querySelector('.navbar-toggler').addEventListener('click', function () {
        // Burger icon clicked
        document.getElementById('speaker').style.visibility = 'hidden';
    });

    document.querySelector('.btn-close').addEventListener('click', function () {
        // Close button clicked
        document.getElementById('speaker').style.visibility = 'visible';
    });
</script>
<script src="assets/js/sendEmail.js"></script>

</html>